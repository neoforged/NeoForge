--- a/net/minecraft/client/server/LanServerDetection.java
+++ b/net/minecraft/client/server/LanServerDetection.java
@@ -33,7 +_,7 @@
             this.setDaemon(true);
             this.setUncaughtExceptionHandler(new DefaultUncaughtExceptionHandler(LanServerDetection.LOGGER));
             this.socket = new MulticastSocket(4445);
-            this.pingGroup = InetAddress.getByName("224.0.2.60");
+            this.pingGroup = InetAddress.getByName(LanServerPinger.MULTICAST_GROUP);
             this.socket.setSoTimeout(5000);
             this.socket.joinGroup(this.pingGroup);
         }
@@ -88,7 +_,11 @@
             String s = LanServerPinger.parseMotd(pingResponse);
             String s1 = LanServerPinger.parseAddress(pingResponse);
             if (s1 != null) {
-                s1 = ipAddress.getHostAddress() + ":" + s1;
+                if (net.neoforged.neoforge.network.DualStackUtils.checkIPv6(ipAddress)) {
+                    s1 = "[" + com.google.common.net.InetAddresses.toAddrString(ipAddress) + "]:" + s1;
+                } else {
+                    s1 = ipAddress.getHostAddress() + ":" + s1;
+                }
                 boolean flag = false;
 
                 for (LanServer lanserver : this.servers) {
