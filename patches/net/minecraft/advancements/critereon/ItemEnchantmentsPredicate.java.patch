--- a/net/minecraft/advancements/critereon/ItemEnchantmentsPredicate.java
+++ b/net/minecraft/advancements/critereon/ItemEnchantmentsPredicate.java
@@ -52,6 +_,16 @@
         public DataComponentType<ItemEnchantments> componentType() {
             return DataComponents.ENCHANTMENTS;
         }
+
+        // Neo: use IItemExtension#getAllEnchantments for enchantments when testing this predicate.
+        @Override
+        public boolean matches(ItemStack stack) {
+            var lookup = net.neoforged.neoforge.common.CommonHooks.resolveLookup(net.minecraft.core.registries.Registries.ENCHANTMENT);
+            if (lookup != null) {
+                return matches(stack, stack.getAllEnchantments(lookup));
+            }
+            return super.matches(stack);
+        }
     }
 
     public static class StoredEnchantments extends ItemEnchantmentsPredicate {
