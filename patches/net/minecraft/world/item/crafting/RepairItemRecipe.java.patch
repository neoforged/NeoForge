--- a/net/minecraft/world/item/crafting/RepairItemRecipe.java
+++ b/net/minecraft/world/item/crafting/RepairItemRecipe.java
@@ -46,7 +_,9 @@
             && p_336139_.has(DataComponents.MAX_DAMAGE)
             && p_335795_.has(DataComponents.MAX_DAMAGE)
             && p_336139_.has(DataComponents.DAMAGE)
-            && p_335795_.has(DataComponents.DAMAGE);
+            && p_335795_.has(DataComponents.DAMAGE)
+            && p_336139_.isRepairable()
+            && p_335795_.isRepairable();
     }
 
     public boolean matches(CraftingInput p_345243_, Level p_44139_) {
