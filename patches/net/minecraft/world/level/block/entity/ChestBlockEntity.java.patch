--- a/net/minecraft/world/level/block/entity/ChestBlockEntity.java
+++ b/net/minecraft/world/level/block/entity/ChestBlockEntity.java
@@ -173,6 +_,17 @@
         return ChestMenu.threeRows(id, player, this);
     }
 
+    @Override
+    public void setBlockState(BlockState blockState) {
+        var oldState = getBlockState();
+        super.setBlockState(blockState);
+        // Neo: Chest state change might change the chest item handler -> invalidate
+        if ((oldState.getValue(ChestBlock.FACING) != blockState.getValue(ChestBlock.FACING))
+                || (oldState.getValue(ChestBlock.TYPE) != blockState.getValue(ChestBlock.TYPE))) {
+            this.invalidateCapabilities();
+        }
+    }
+
     public void recheckOpen() {
         if (!this.remove) {
             this.openersCounter.recheckOpeners(this.getLevel(), this.getBlockPos(), this.getBlockState());
