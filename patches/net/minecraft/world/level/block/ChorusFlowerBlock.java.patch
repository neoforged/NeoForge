--- a/net/minecraft/world/level/block/ChorusFlowerBlock.java
+++ b/net/minecraft/world/level/block/ChorusFlowerBlock.java
@@ -65,10 +_,13 @@
         BlockPos blockpos = pos.above();
         if (level.isEmptyBlock(blockpos) && blockpos.getY() < level.getMaxBuildHeight()) {
             int i = state.getValue(AGE);
-            if (i < 5) {
+            if (i < 5 && net.neoforged.neoforge.common.CommonHooks.canCropGrow(level, blockpos, state, true)) {
                 boolean flag = false;
                 boolean flag1 = false;
                 BlockState blockstate = level.getBlockState(pos.below());
+                net.neoforged.neoforge.common.util.TriState soilDecision = blockstate.canSustainPlant(level, pos.below(), Direction.UP, state);
+                if (!soilDecision.isDefault()) flag = soilDecision.isTrue();
+                else
                 if (blockstate.is(Blocks.END_STONE)) {
                     flag = true;
                 } else if (blockstate.is(this.plant)) {
@@ -77,6 +_,8 @@
                     for (int k = 0; k < 4; k++) {
                         BlockState blockstate1 = level.getBlockState(pos.below(j + 1));
                         if (!blockstate1.is(this.plant)) {
+                            net.neoforged.neoforge.common.util.TriState soilDecision2 = blockstate1.canSustainPlant(level, pos.below(j + 1), Direction.UP, state);
+                            if (!soilDecision2.isDefault()) flag1 = soilDecision2.isTrue();
                             if (blockstate1.is(Blocks.END_STONE)) {
                                 flag1 = true;
                             }
@@ -123,6 +_,7 @@
                 } else {
                     this.placeDeadFlower(level, pos);
                 }
+                net.neoforged.neoforge.common.CommonHooks.fireCropGrowPost(level, pos, state);
             }
         }
     }
@@ -159,6 +_,8 @@
     @Override
     protected boolean canSurvive(BlockState state, LevelReader level, BlockPos pos) {
         BlockState blockstate = level.getBlockState(pos.below());
+        net.neoforged.neoforge.common.util.TriState soilDecision = blockstate.canSustainPlant(level, pos.below(), Direction.UP, state);
+        if (!soilDecision.isDefault()) return soilDecision.isTrue();
         if (!blockstate.is(this.plant) && !blockstate.is(Blocks.END_STONE)) {
             if (!blockstate.isAir()) {
                 return false;
