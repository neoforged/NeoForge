--- a/net/minecraft/world/effect/MobEffectInstance.java
+++ b/net/minecraft/world/effect/MobEffectInstance.java
@@ -19,7 +_,7 @@
 import net.minecraft.world.entity.LivingEntity;
 import org.slf4j.Logger;
 
-public class MobEffectInstance implements Comparable<MobEffectInstance> {
+public class MobEffectInstance implements Comparable<MobEffectInstance>, net.neoforged.neoforge.common.extensions.IMobEffectInstanceExtension {
     private static final Logger LOGGER = LogUtils.getLogger();
     public static final int INFINITE_DURATION = -1;
     private static final String TAG_ID = "id";
@@ -272,6 +_,7 @@
     public CompoundTag save(CompoundTag p_19556_) {
         ResourceLocation resourcelocation = BuiltInRegistries.MOB_EFFECT.getKey(this.effect);
         p_19556_.putString("id", resourcelocation.toString());
+        net.neoforged.neoforge.common.CommonHooks.saveMobEffect(p_19556_, "neoforge:id", this.getEffect());
         this.writeDetailsTo(p_19556_);
         return p_19556_;
     }
@@ -342,11 +_,11 @@
                 .compareFalseFirst(this.isAmbient(), p_19566_.isAmbient())
                 .compareFalseFirst(this.isInfiniteDuration(), p_19566_.isInfiniteDuration())
                 .compare(this.getDuration(), p_19566_.getDuration())
-                .compare(this.getEffect().getColor(), p_19566_.getEffect().getColor())
+                .compare(this.getEffect().getSortOrder(this), p_19566_.getEffect().getSortOrder(p_19566_))
                 .result()
             : ComparisonChain.start()
                 .compare(this.isAmbient(), p_19566_.isAmbient())
-                .compare(this.getEffect().getColor(), p_19566_.getEffect().getColor())
+                .compare(this.getEffect().getSortOrder(this), p_19566_.getEffect().getSortOrder(p_19566_))
                 .result();
     }
 
